<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>С Днем Рождения, Юля!</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* --- Концепция "Акварельное воспоминание" --- */
        :root {
            --dusty-rose: #DAB8C2;
            --sage-green: #B2B8A3;
            --graphite: #4A4A4A;
            --milky: #F8F7F4;
        }

        body {
            font-family: 'Lato', sans-serif;
            /* Молочный фон с легким акварельным эффектом по углам */
            background-color: var(--milky);
            background-image: 
                radial-gradient(circle at top left, rgba(218, 184, 194, 0.1), transparent 30%),
                radial-gradient(circle at bottom right, rgba(178, 184, 163, 0.1), transparent 30%);
            color: var(--graphite);
        }

        .player-container {
            background-color: #ffffff;
            /* Мягкая, рассеянная тень для эффекта "парения" */
            box-shadow: 0 8px 40px rgba(74, 74, 74, 0.1);
            color: var(--graphite);
        }

        #track-title, .congrats-heading {
            font-family: 'Playfair Display', serif;
        }
        
        /* Стилизация фото под карточку Polaroid */
        #cover-art {
            transition: opacity 0.7s ease-in-out;
            border: 1px solid #eee;
            padding: 4px;
            background-color: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }

        .control-btn {
            color: var(--sage-green);
        }

        .control-btn:hover {
            background-color: rgba(178, 184, 163, 0.1);
        }
        
        /* Главная кнопка в цвете пыльной розы */
        #play-pause-btn {
            background-color: var(--dusty-rose);
            color: white;
        }
        #play-pause-btn:hover {
             background-color: #d4aebb; /* Чуть темнее при наведении */
        }

        audio {
            display: none;
        }

        .progress-container {
            background-color: #e0e0e0;
            cursor: pointer;
        }
        
        /* Полоса прогресса в цвете пыльной розы */
        .progress-bar {
            background-color: var(--dusty-rose);
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div class="player-container w-full max-w-sm rounded-2xl p-6">

        <!-- Поздравительное сообщение -->
        <div class="congrats-message text-center mb-6 border-b border-gray-200 pb-6">
            <h3 class="congrats-heading text-xl font-bold mb-2">Юля, с Днём Рождения!</h3>
            <p class="text-sm leading-relaxed">
                Я благодарна за день, когда тебя нашла, за свет твоей души, за твою дружбу.
            </p>
        </div>

        <!-- Информация о треке и карусель -->
        <div class="track-info text-center mb-4">
            <img id="cover-art" src="https://placehold.co/300x300/DAB8C2/4A4A4A?text=Фото+1" alt="Фото-воспоминание" class="w-48 h-48 mx-auto rounded-lg object-cover">
            <h2 id="track-title" class="text-2xl font-bold">Для тебя</h2>
            <p id="track-artist" class="text-sm text-gray-500">Диана</p>
        </div>

        <!-- Аудио элемент (скрыт) -->
        <audio id="audio-player" loop></audio>

        <!-- Шкала времени -->
        <div id="progress-container" class="progress-container w-full h-1.5 rounded-full mb-2">
            <div id="progress-bar" class="progress-bar h-full rounded-full w-0"></div>
        </div>
        <div class="time-display flex justify-between text-xs text-gray-500 mb-4">
            <span id="current-time">0:00</span>
            <span id="total-duration">0:00</span>
        </div>

        <!-- Кастомные элементы управления -->
        <div class="controls flex justify-center items-center gap-6 mb-6">
            <button id="prev-btn" class="control-btn p-3 rounded-full transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line></svg>
            </button>
            <button id="play-pause-btn" class="p-4 rounded-full transition-colors shadow-md">
                <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="hidden"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>
            </button>
            <button id="next-btn" class="control-btn p-3 rounded-full transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line></svg>
            </button>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Элементы DOM ---
            const audioPlayer = document.getElementById('audio-player');
            const coverArt = document.getElementById('cover-art');
            const trackTitle = document.getElementById('track-title');
            const trackArtist = document.getElementById('track-artist');
            const playPauseBtn = document.getElementById('play-pause-btn');
            const playIcon = document.getElementById('play-icon');
            const pauseIcon = document.getElementById('pause-icon');
            const progressContainer = document.getElementById('progress-container');
            const progressBar = document.getElementById('progress-bar');
            const currentTimeEl = document.getElementById('current-time');
            const totalDurationEl = document.getElementById('total-duration');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');

            // --- Данные для открытки ---
            const trackData = {
                title: 'Для тебя',
                artist: 'Диана',
                // ВАЖНО: Укажите здесь прямую ссылку на ваш аудиофайл
                src: 'https://github.com/jamagazine/Julia-happy-birthday/blob/main/For_you.mp3' 
            };

            // ЗАМЕНИТЕ ЭТИ ССЫЛКИ НА ССЫЛКИ НА ВАШИ ФОТОГРАФИИ
            const slideshowImages = [
                'https://github.com/jamagazine/Julia-happy-birthday/blob/main/1.png',
                'https://github.com/jamagazine/Julia-happy-birthday/blob/main/2.png',
                'https://github.com/jamagazine/Julia-happy-birthday/blob/main/3.png',
                'https://github.com/jamagazine/Julia-happy-birthday/blob/main/4.png',
                'https://github.com/jamagazine/Julia-happy-birthday/blob/main/5.png'
            ];

            let isPlaying = false;
            let currentImageIndex = 0;
            let slideshowInterval;

            // --- Функции ---

            function loadTrack() {
                trackTitle.textContent = trackData.title;
                trackArtist.textContent = trackData.artist;
                audioPlayer.src = trackData.src;
                showImage(0);
            }
            
            function showImage(index) {
                currentImageIndex = index;
                coverArt.style.opacity = 0;
                setTimeout(() => {
                    coverArt.src = slideshowImages[currentImageIndex];
                    coverArt.onerror = () => { coverArt.src = 'https://placehold.co/300x300/EAE0D5/4A4A4A?text=Error'; };
                    coverArt.style.opacity = 1;
                }, 700);
            }

            function nextImage() {
                const newIndex = (currentImageIndex + 1) % slideshowImages.length;
                showImage(newIndex);
            }

            function prevImage() {
                const newIndex = (currentImageIndex - 1 + slideshowImages.length) % slideshowImages.length;
                showImage(newIndex);
            }
            
            function restartSlideshow() {
                stopSlideshow();
                if (isPlaying) {
                    startSlideshow();
                }
            }

            function startSlideshow() {
                clearInterval(slideshowInterval);
                slideshowInterval = setInterval(nextImage, 4000); 
            }

            function stopSlideshow() {
                clearInterval(slideshowInterval);
            }

            function playTrack() {
                isPlaying = true;
                audioPlayer.play();
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
                startSlideshow(); 
            }

            function pauseTrack() {
                isPlaying = false;
                audioPlayer.pause();
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
                stopSlideshow(); 
            }
            
            function togglePlayPause() {
                isPlaying ? pauseTrack() : playTrack();
            }

            function formatTime(seconds) {
                const minutes = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
            }

            function updateProgress() {
                const { duration, currentTime } = audioPlayer;
                if (duration) {
                    const progressPercent = (currentTime / duration) * 100;
                    progressBar.style.width = `${progressPercent}%`;
                    currentTimeEl.textContent = formatTime(currentTime);
                }
            }
            
            function setProgress(e) {
                const width = this.clientWidth;
                const clickX = e.offsetX;
                const duration = audioPlayer.duration;
                if (duration) {
                    audioPlayer.currentTime = (clickX / width) * duration;
                }
            }

            // --- Инициализация и обработчики событий ---
            playPauseBtn.addEventListener('click', togglePlayPause);
            
            nextBtn.addEventListener('click', () => {
                nextImage();
                restartSlideshow();
            });

            prevBtn.addEventListener('click', () => {
                prevImage();
                restartSlideshow();
            });

            audioPlayer.addEventListener('timeupdate', updateProgress);
            audioPlayer.addEventListener('loadedmetadata', () => {
                 totalDurationEl.textContent = formatTime(audioPlayer.duration);
            });
            audioPlayer.loop = true; 
            progressContainer.addEventListener('click', setProgress);

            loadTrack();
        });
    </script>
</body>
</html>


